{
  "hash": "932d4db9293e5db49db110b5ee817eb5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 34\"\ntitle-slide-attributes:\n  data-background-image: images/lake.jpg\n  data-background-size: contain\n  data-background-opacity: \"0.5\"\nsubtitle: \"Math 216: Statistical Thinking\"\nauthor: \"Bastola\"\nformat:\n  revealjs:\n    html-math-method: mathjax\n    mathjax-url: \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/MathJax.js\" \n    theme: [default, scss/main.scss]\n    slide-number: true\n    preview-links: auto\n    history: true\n    chalkboard: \n      src: drawings.json\n    transition: slide\n    background-transition: fade    \n    touch: false\n    controls: true\n---\n\n\n\n\n\n\n## Chi-Square Test for Two Groups - Contingency Table {.font80}\n\n::: cle6\n- **Objective**: To check for independence between two categorical variables.\n- **Example**: Relationship between flu contraction and vaccination status.\n- **Analysis Approach**: Analyze frequencies within a contingency table to identify significant associations.\n:::\n\n\n## Contingency Table {.font70}\n\n|       | Column 1 | Column 2 | ... | Column c | Total |\n|-------|----------|----------|-----|----------|-------|\n| Row 1 | $n_{11}$ | $n_{12}$ | ... | $n_{1c}$ | $r_1$ |\n| Row 2 | $n_{21}$ | $n_{22}$ | ... | $n_{2c}$ | $r_2$ |\n| ...   | $\\vdots$ | $\\vdots$ | ... | $\\vdots$ | $\\vdots$ |\n| Row r | $n_{r1}$ | $n_{r2}$ | ... | $n_{rc}$ | $r_r$ |\n| Total | $c_1$    | $c_2$    | ... | $c_c$    | $n$    |\n\n\n## Contingency Table {.font80}\n\n::: cle6\n- **Chi-Square Test Application**: Extends the analysis of count data to assess the dependence of two classification methods on the same subjects.\n- **Contingency Table Format**:\n  - $n=\\sum_{i=1}^{r} r_i = \\sum_{j=1}^{c} c_j$\n  - Rows ($r$) and columns ($c$) represent different categorical classifications.\n:::\n\n## Hypothesis Testing Using Contingency Tables {.font70}\n\n::: cle7\n- **Goal**: Determine if there is independence or dependence between row and column classifications.\n- **Hypotheses**:\n  - $H_0$: Row and column classifications are independent.\n  - Probability of belonging to both the $i^{th}$ row and $j^{th}$ column:\n    - $\\operatorname{Prob}(r_i \\cap c_j) = P(r_i) \\cdot P(c_j) = \\left(\\frac{r_i}{n}\\right) \\cdot \\left(\\frac{c_j}{n}\\right)$\n  - Expected count for cell $(i, j)$:\n    - $e_{ij} = n \\cdot \\left(\\frac{r_i}{n}\\right) \\cdot \\left(\\frac{c_j}{n}\\right) = \\frac{r_i c_j}{n}$\n- **Test Statistic**:\n  - $T = \\sum_{i=1}^{r} \\sum_{j=1}^{c} \\frac{(n_{ij}-e_{ij})^2}{e_{ij}} \\sim \\chi^2_{1-\\alpha} \\text{ with df } = (r-1) \\cdot (c-1)$\n:::\n\n## R Code for Contingency Table Analysis {.font70}\n\n::: cle12\n- **Using R for Calculations**:\n  - Prepare data in matrix format and use Chi-Square test without Yates' continuity correction.\n  \n```r\n# Create a matrix from the data\ntab <- matrix(c(data1, data2, ...), \n              nrow = ...,  # specify the number of rows\n              ncol = ...,  # specify the number of columns\n              byrow = TRUE)  # fill the matrix by rows\n\n# Perform a chi-squared test without continuity correction\nchisq.test(tab, correct = FALSE)\n```\n\n:::\n\n##  {.font60}\n\n> Example 1: A survey was conducted to evaluate the effectiveness of a new flu vaccine that had been administered in a small community. The vaccine was provided free of charge in a two-shot sequence over a period of 2 weeks to those wishing to avail themselves of it. Some people receive the two-shot sequence, some appeared only for the first shot, and the others received neither.\n\nA survey of 1000 local inhabitants in the following spring provided the information shown in the following table. Do the data present sufficient evidence to indicate a dependence between the two classifications - vaccine category and occurrence/nonoccurrence of flu? \n\n| Status  | No Vaccine | One Shot | Two Shot | Total |\n|---------|------------|----------|----------|-------|\n| Flu     | 24         | 9        | 13       | 46    |\n| No flu  | 289        | 100      | 565      | 954   |\n| Total   | 313        | 109      | 578      | 1000  |\n\n\n##\n\n\n\n## Example 1: R-code to verify answers {.font70}\n\n::: cle7\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Enter each row into a vector\ndata1 <- c(24, 9, 13)\ndata2 <- c(289, 100, 565)\n# Create a matrix from the data\ntab <- matrix(c(data1, data2), \n              nrow = 2,  # specify the number of rows\n              ncol = 3,  # specify the number of columns\n              byrow = TRUE)  # fill the matrix by rows\n\n# Perform a chi-squared test without continuity correction\nchisq.test(tab, correct = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tPearson's Chi-squared test\n\ndata:  tab\nX-squared = 17.313, df = 2, p-value = 0.000174\n```\n\n\n:::\n:::\n\n\n\n:::\n\n##  {.font60}\n\n> Example 2: A survey is taken to determine whether there is a relationship between political affiliation and strength of support for space exploration. We randomly select 100 individuals and ask their political affiliation and their support level to obtain the data in the following table. Perform the contingency table analysis at $\\alpha=0.10$.\n\n| Support Level | Republican | Democrat | Independent | Total |\n|---------------|------------|----------|-------------|-------|\n| Strong        | 8          | 10       | 12          | 30    |\n| Moderate      | 12         | 17       | 6           | 35    |\n| Weak          | 10         | 13       | 12          | 35    |\n| Total         | 30         | 40       | 30          | 100   |\n\n\n##\n\n\n## Example 2: R-code to verify answers {.font70}\n\n::: cle7\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Enter each row into a vector\ndata1 <- c(8, 10, 12)\ndata2 <- c(12, 17, 6)\ndata3 <- c(10, 13, 12)\n# Create a matrix from the data\ntab <- matrix(c(data1, data2, data3), \n              nrow = 3,  # specify the number of rows\n              ncol = 3,  # specify the number of columns\n              byrow = TRUE)  # fill the matrix by rows\n\n# Perform a chi-squared test without continuity correction\nchisq.test(tab, correct = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tPearson's Chi-squared test\n\ndata:  tab\nX-squared = 4.5397, df = 4, p-value = 0.3379\n```\n\n\n:::\n:::\n\n\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}